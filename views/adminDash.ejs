<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        body{
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(to right, #667eea, #764ba2);
        }

        @media (min-width:360px) and (max-width:490px) {
          .cards{
            margin: auto !important;
            padding: 0 0px 50px 0 !important;
          }
        }

        @media (min-width:760px) and (max-width:900px) {
          .cards{
            margin: auto !important;
            padding: 0 0px 50px 0 !important;
          }
        }

    </style>

    
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">

</head>
<body>

    <%- include('header')  %>
    <%- include('sideBar')  %>


    <div style="max-width: 800px; margin: auto; padding: 30px;height: auto;">
  <h2 style="text-align: center; color: white;margin-bottom: 50px;">User Queries Per Month</h2>
  <canvas id="queryChart"></canvas>
</div>

<div class="container cards" style="padding-left: 180px;padding-bottom: 50px;width: 80%;">
    <div class="row justify-content-center g-4 mt-4">
  <div class="col-lg-6 col-md-12 col-sm-12 d-flex justify-content-center">
    <a href="/admin/change-password" style="text-decoration: none;">
      <div class="card" style="width: 18rem; cursor: pointer;">
        <img src="/uploads/dashboard.jpg" class="card-img-top" alt="...">
        <div class="card-body" style="background-color: rgb(56, 57, 107);">
          <p class="card-text fs-4 fw-bolder text-light">Change Password</p>
        </div>
      </div>
    </a>
  </div>

  <div class="col-lg-6 col-md-6 col-sm-12 d-flex justify-content-center">
    <a href="/admin/manage-blog" style="text-decoration: none;">
      <div class="card" style="width: 18rem; cursor: pointer;">
        <img src="/uploads/blog.jpg" class="card-img-top" alt="...">
        <div class="card-body" style="background-color: rgb(56, 57, 107);">
          <p class="card-text fs-4 fw-bolder text-light">Blogs</p>
        </div>
      </div>
    </a>
  </div>

  <div class="col-lg-6 col-md-6 col-sm-12 d-flex justify-content-center">
    <a href="/admin/manage-queries" style="text-decoration: none;">
      <div class="card" style="width: 18rem; cursor: pointer;">
        <img src="/uploads/user.jpg" class="card-img-top" alt="...">
        <div class="card-body" style="background-color: rgb(56, 57, 107);">
          <p class="card-text fs-4 fw-bolder text-light">User Queries</p>
        </div>
      </div>
    </a>
  </div>
</div>

</div>



    

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <script>
  const monthlyData = <%- JSON.stringify(monthlyCounts || []) %>;
  console.log("Monthly Data: ", monthlyData);
  
  const ctx = document.getElementById('queryChart').getContext('2d');

  const queryChart = new Chart(ctx, {
    type: 'bar',
    data: {
      labels: [
        "Jan", "Feb", "Mar", "Apr", "May", "Jun",
        "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"
      ],
      datasets: [{
        label: "Queries Received",
        data: monthlyData,
        backgroundColor: "#ffb347",
        borderRadius: 10,
        borderWidth: 1
      }]
    },
    options: {
  responsive: true,
  plugins: {
    legend: {
      labels: {
        color: '#ffffff',  // Legend text color
        font: {
          size: 14,
          family: 'Segoe UI'
        }
      }
    }
  },
  scales: {
    x: {
      ticks: {
        color: '#ffffff',   // X-axis label color
        font: {
          size: 13,
          family: 'Segoe UI'
        }
      },
      grid: {
        color: 'rgba(255, 255, 255, 0.1)' // optional grid color
      }
    },
    y: {
      beginAtZero: true,
      ticks: {
        color: '#ffffff',  // Y-axis label color
        font: {
          size: 13,
          family: 'Segoe UI'
        },
        stepSize: 4,
        precision: 0
      },
      grid: {
        color: 'rgba(255, 255, 255, 0.1)' // optional grid color
      }
    }
  }
}

  });
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" crossorigin="anonymous"></script>




</body>
</html>